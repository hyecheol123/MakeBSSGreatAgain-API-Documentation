tags:
  - User
summary: Search users
operationId: searchUser
description: |
  List up users with matching search criteria.
  Only signed in user can search the article.

  User can specify the search term with query string.
  Supported search Criteria are:
    - admissionYear
    - legalName
    - nickname
    - whether the user verified or not
  
  Other options will be ignored and will cause error.
  The search result will be ordered by name.

  50 results will be returned at most, user can search further by indicating page parameter in the query string.  

  As a return, user will get an array of objects containing information of
    - username
    - admissionYear
    - legalName
    - nickname
    - primary/verified email
    - whether user is verified or not
    - schoolCompany information of affiliation
security:
  - accessToken: []
parameters:
  - in: query
    name: admissionYear
    schema:
      type: integer
      minimum: 1
    description: Integer indicating admission year (1 means admitted on the year 2003)
  - in: query
    name: legalName
    schema:
      type: string
    description: legalName of the user
  - in: query
    name: nickname
    schema:
      type: string
    description: nickname of the user
  - in: query
    name: verified
    schema:
      type: boolean
    description: |
      Flag used to display unverified user.
  - in: query
    name: page
    schema:
      type: integer
    description: Indicating the page number that used to navigate the search result.
responses:
  '200':
    description: Return search result
    content:
      application/json:
        schema:
          type: array
          items:
            type: object
            properties:
              username:
                type: string
              admissionYear:
                type: integer
                minimum: 1
              legalName:
                type: string
              nickname:
                type: string
              email:
                type: string
                format: email
              verified:
                type: boolean
              schoolCompany:
                type: string
            required:
              - username
              - admissionYear
              - legalName
              - verified
            additionalProperties: false
          example:
            - username: gildong123
              admissionYear: 13
              legalName: 홍길동
              nickname: "Gildong Hong"
              email: gildong.hong@example.com
              verified: true
              schoolCompany: "Best University"
            - username: gilsoon123
              admissionYear: 11
              legalName: 홍길순
              verified: false
              schoolCompany: "A Startup"
            - username: admin2
              admissionYear: 8
              legalName: 김관리
              email: admin@bshs.or.kr
              verified: true
              schoolCompany: "MakeBSSGreatAgain"
  '400':
    description: Bad requests
  '401':
    description: Authentication information is missing or invalid